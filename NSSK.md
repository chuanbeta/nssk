# NSSK

两台主机直接通信，发起通信的一方必然要知道对方ip

客户A想连接B的话：A要知道B的ip

但我想做到所有客户端的代码一样，客户端只保存服务器的地址

那么：客户A**登录时**，服务器把网络中所有登录的其他用户的ip地址发给A让A存起来，服务器保存A的ip，并通知其他用户A登录了，保存A的ip！

服务器不做数据库，用户信息（如密钥等）直接存在内存中。

注册目的是得到服务器和客户端的共享密钥。而登录本来是不需要的，但这里为了让客户端知道当前网络有哪些用户只能登录。

协议的前提是C与S提前共享了密钥，这里通过**密码登录**来向服务器获取密钥。

## 客户端

需要并发，才能使多个用户同时在线

1. 注册/登录
2. 绑定ip
3. 监听或会话

## 开发日志

- python的函数原来支持同时相互调用
- 没考虑同时登录相同的用户
- 只能做到回复-应答形式聊天
- 2022年12月30日00:57:11：发现因为keyboardInterrupt存在，发起通信的人也要往服务器将自己加入监听者列表。将错就错吧。

- 2022年12月30日02:06:09

  TODO：用base64替换bytes.hex()

  
